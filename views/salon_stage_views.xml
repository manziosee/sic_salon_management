<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <record id="view_salon_stage_tree_custom" model="ir.ui.view">
    <field name="name">salon.stage.tree.sic.custom</field>
    <field name="model">salon.stage</field>
    <field name="inherit_id" ref="salon_management.salon_stage_tree_view"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='color']" position="replace"/>
      <xpath expr="//field[@name='name']" position="attributes">
        <attribute name="widget">badge</attribute>
        <attribute name="decoration-danger">name == 'New Request'</attribute>
        <attribute name="decoration-warning">name == 'Confirmed'</attribute>
        <attribute name="decoration-info">name == 'Ongoing'</attribute>
        <attribute name="decoration-success">name == 'Done'</attribute>
        <attribute name="decoration-bf">name == 'Cancel'</attribute>
      </xpath>
    </field>
  </record>
  
  <record id="view_salon_stage_kanban_custom" model="ir.ui.view">
    <field name="name">salon.stage.kanban.sic.custom</field>
    <field name="model">salon.stage</field>
    <field name="inherit_id" ref="salon_management.view_salon_stage_kanban"/>
    <field name="arch" type="xml">
      <xpath expr="//div[contains(@class, 'oe_kanban_color_')]" position="replace">
        <div t-attf-class="'oe_kanban_color_' + (
          ('danger' if record.name.raw_value == 'New Request' else '') or
          ('warning' if record.name.raw_value == 'Confirmed' else '') or
          ('info' if record.name.raw_value == 'Ongoing' else '') or
          ('success' if record.name.raw_value == 'Done' else '') or
          ('bf' if record.name.raw_value == 'Cancel' else '')
        )"/>
      </xpath>
    </field>
  </record>

</odoo>